const a0_0xb8f986=a0_0x18ac;(function(_0x383a42,_0x3f78f4){const _0x8a84a4=a0_0x18ac,_0xdd407d=_0x383a42();while(!![]){try{const _0x213792=-parseInt(_0x8a84a4(0x15c))/0x1+-parseInt(_0x8a84a4(0x158))/0x2+-parseInt(_0x8a84a4(0x152))/0x3*(-parseInt(_0x8a84a4(0x155))/0x4)+-parseInt(_0x8a84a4(0x165))/0x5+parseInt(_0x8a84a4(0x146))/0x6*(-parseInt(_0x8a84a4(0x16d))/0x7)+-parseInt(_0x8a84a4(0x150))/0x8*(parseInt(_0x8a84a4(0x162))/0x9)+parseInt(_0x8a84a4(0x14f))/0xa;if(_0x213792===_0x3f78f4)break;else _0xdd407d['push'](_0xdd407d['shift']());}catch(_0x3a16a2){_0xdd407d['push'](_0xdd407d['shift']());}}}(a0_0x2fc3,0x955d5));function a0_0x2fc3(){const _0x49775b=['message','‚ö°\x20Usage:\x20`','length','conversation','‚ùå\x20Invalid\x20move.\x20Choose\x20a\x20number\x20between\x201\x20and\x209.','‚ùå\x20Cell\x20already\x20occupied!','Txdaf','üèÜ\x20','üõë\x20Game\x20closed!','remoteJid','\x27s\x20turn!\x0a\x0a','WWFiA','error','qfQxA','pmove','COMMAND_PREFIX','bIvzt','pmove\x201-9`\x20to\x20play.','829938oghtPn','GAME-','wrLBv','Something\x20went\x20wrong.','\x20wins!\x0a\x0a','ptictactoe','every','@s.whatsapp.net','‚ö†Ô∏è\x20A\x20game\x20is\x20already\x20in\x20progress!\x20Use\x20`','24304010nqlGrD','72Sttazh','text','27YLeMpi','ü§ù\x20It\x27s\x20a\x20draw!\x0a\x0a','stringify','208364Furoog','participant','nxqRP','845798dKlOZr','flat','startsWith','ptictactoe`.','1199535hHbhUq','board','player1','edLDR','currentTurn','playing','254655TeJqSG','env','xgwWM','1360055VDLWfk','pmove\x20number`\x0aExample:\x20`','parse','split','ZPEiY','üéØ\x20It\x27s\x20','extendedTextMessage','padpr','7gfrKeN','handlePtictactoe\x20error:','player2','sendMessage','trim','pmove\x205`'];a0_0x2fc3=function(){return _0x49775b;};return a0_0x2fc3();}import{v4 as a0_0xd619d6}from'uuid';let activeGame=null,lobbyTimeout=null;const emptyBoard=[['‚ûñ','‚ûñ','‚ûñ'],['‚ûñ','‚ûñ','‚ûñ'],['‚ûñ','‚ûñ','‚ûñ']],moveMap={0x1:[0x0,0x0],0x2:[0x0,0x1],0x3:[0x0,0x2],0x4:[0x1,0x0],0x5:[0x1,0x1],0x6:[0x1,0x2],0x7:[0x2,0x0],0x8:[0x2,0x1],0x9:[0x2,0x2]};import{getBotNumber}from'../index.js';const botNumber=await getBotNumber()+a0_0xb8f986(0x14d),myJid=botNumber;function a0_0x18ac(_0x57fadb,_0x12f9e7){const _0x2fc332=a0_0x2fc3();return a0_0x18ac=function(_0x18ac5d,_0x218123){_0x18ac5d=_0x18ac5d-0x131;let _0x4023cb=_0x2fc332[_0x18ac5d];return _0x4023cb;},a0_0x18ac(_0x57fadb,_0x12f9e7);}export const command='ptictactoe';export default async function handlePtictactoe(_0x1d69d5,_0x54eead){const _0x5c78cd=a0_0xb8f986,_0x162a3a={'ZPEiY':_0x5c78cd(0x161),'wrLBv':function(_0x449da5,_0x44bec2){return _0x449da5(_0x44bec2);},'iAgXf':function(_0x325337,_0x331aa7){return _0x325337<_0x331aa7;},'MGqMX':function(_0x19481c,_0x17f0ed){return _0x19481c in _0x17f0ed;},'tgaXn':_0x5c78cd(0x138),'xgwWM':function(_0x5d02be,_0xe934c4){return _0x5d02be(_0xe934c4);},'qfQxA':function(_0x10a270,_0x17575e){return _0x10a270===_0x17575e;},'bIvzt':_0x5c78cd(0x13c),'nxqRP':_0x5c78cd(0x16e),'padpr':_0x5c78cd(0x149)},_0x157d76=_0x54eead['key']['remoteJid'],_0x428976=_0x54eead['key'][_0x5c78cd(0x156)]||_0x54eead['key'][_0x5c78cd(0x13d)],_0x58e377=_0x54eead[_0x5c78cd(0x134)]?.[_0x5c78cd(0x137)]||_0x54eead[_0x5c78cd(0x134)]?.[_0x5c78cd(0x16b)]?.[_0x5c78cd(0x151)]||'',_0x2383a4=process[_0x5c78cd(0x163)][_0x5c78cd(0x143)]||'.';try{if(_0x58e377['startsWith'](_0x2383a4+_0x5c78cd(0x14b))){if(activeGame)return await _0x1d69d5['sendMessage'](_0x157d76,{'text':_0x5c78cd(0x14e)+_0x2383a4+'pgameclose`\x20to\x20end\x20it\x20first.'});const _0x343449=_0x5c78cd(0x147)+a0_0xd619d6();activeGame={'player1':_0x428976,'player2':myJid,'board':JSON[_0x5c78cd(0x167)](JSON[_0x5c78cd(0x154)](emptyBoard)),'currentTurn':'‚ùå','status':_0x162a3a['ZPEiY'],'gameCode':_0x343449};const _0xda9806=[_0x428976];await _0x1d69d5[_0x5c78cd(0x131)](_0x157d76,{'text':'üéØ\x20Game\x20Start!\x0aIt\x27s\x20‚ùå\x27s\x20turn!\x20Play\x20against\x20‚≠ï!\x0a\x0a'+_0x162a3a[_0x5c78cd(0x148)](renderBoard,activeGame[_0x5c78cd(0x15d)])+'\x0a\x0aUse\x20`'+_0x2383a4+_0x5c78cd(0x145),'mentions':[activeGame[_0x5c78cd(0x15e)],activeGame[_0x5c78cd(0x16f)]]});return;}if(_0x58e377[_0x5c78cd(0x15a)](_0x2383a4+_0x5c78cd(0x142))){if(!activeGame||activeGame['status']!==_0x162a3a[_0x5c78cd(0x169)])return;const _0x59d5d8=_0x428976,_0x14e797=_0x58e377[_0x5c78cd(0x132)]()[_0x5c78cd(0x168)]('\x20');if(_0x162a3a['iAgXf'](_0x14e797[_0x5c78cd(0x136)],0x2))return await _0x1d69d5[_0x5c78cd(0x131)](_0x157d76,{'text':_0x5c78cd(0x135)+_0x2383a4+_0x5c78cd(0x166)+_0x2383a4+_0x5c78cd(0x133)});const _0x2b7c2e=_0x162a3a[_0x5c78cd(0x148)](parseInt,_0x14e797[0x1]);if(!_0x162a3a['MGqMX'](_0x2b7c2e,moveMap))return await _0x1d69d5['sendMessage'](_0x157d76,{'text':_0x162a3a['tgaXn']});const [_0x32a077,_0x185747]=moveMap[_0x2b7c2e];if(activeGame[_0x5c78cd(0x15d)][_0x32a077][_0x185747]!=='‚ûñ')return await _0x1d69d5['sendMessage'](_0x157d76,{'text':_0x5c78cd(0x139)});activeGame[_0x5c78cd(0x15d)][_0x32a077][_0x185747]=activeGame[_0x5c78cd(0x160)];if(checkWin(activeGame['board'],activeGame['currentTurn'])){await _0x1d69d5[_0x5c78cd(0x131)](_0x157d76,{'text':_0x5c78cd(0x13b)+activeGame[_0x5c78cd(0x160)]+_0x5c78cd(0x14a)+renderBoard(activeGame[_0x5c78cd(0x15d)])}),activeGame=null;return;}if(_0x162a3a[_0x5c78cd(0x164)](checkDraw,activeGame[_0x5c78cd(0x15d)])){await _0x1d69d5[_0x5c78cd(0x131)](_0x157d76,{'text':_0x5c78cd(0x153)+_0x162a3a[_0x5c78cd(0x148)](renderBoard,activeGame['board'])}),activeGame=null;return;}activeGame['currentTurn']=_0x162a3a[_0x5c78cd(0x141)](activeGame[_0x5c78cd(0x160)],'‚ùå')?'‚≠ï':'‚ùå',await _0x1d69d5['sendMessage'](_0x157d76,{'text':_0x5c78cd(0x16a)+activeGame[_0x5c78cd(0x160)]+_0x5c78cd(0x13e)+_0x162a3a['xgwWM'](renderBoard,activeGame[_0x5c78cd(0x15d)])});return;}if(_0x58e377[_0x5c78cd(0x15a)](_0x2383a4+'pgameclose')){if(!activeGame)return await _0x1d69d5[_0x5c78cd(0x131)](_0x157d76,{'text':'‚ùå\x20No\x20active\x20game\x20to\x20close.\x20Start\x20with\x20`'+_0x2383a4+_0x5c78cd(0x15b)});activeGame=null,await _0x1d69d5[_0x5c78cd(0x131)](_0x157d76,{'text':_0x162a3a[_0x5c78cd(0x144)]});return;}}catch(_0x47505a){console[_0x5c78cd(0x140)](_0x162a3a[_0x5c78cd(0x157)],_0x47505a),await _0x1d69d5[_0x5c78cd(0x131)](_0x54eead['key'][_0x5c78cd(0x13d)],{'text':'‚ÄºÔ∏è\x20Error:\x20'+(_0x47505a[_0x5c78cd(0x134)]||_0x162a3a[_0x5c78cd(0x16c)])});}}function renderBoard(_0x283195){return _0x283195['map'](_0x3fb44b=>_0x3fb44b['join'](''))['join']('\x0a');}function checkWin(_0x597c4c,_0x3283cd){const _0x13978f=a0_0xb8f986,_0x22efdd={'edLDR':function(_0x21e0e8,_0x26378d){return _0x21e0e8<_0x26378d;},'bqlnN':function(_0x151d2b,_0xcf7bd3){return _0x151d2b===_0xcf7bd3;},'WWFiA':function(_0xe61044,_0x13920c){return _0xe61044===_0x13920c;},'Txdaf':function(_0x53e95c,_0x161c04){return _0x53e95c===_0x161c04;},'aUbHM':function(_0x4aa87a,_0x37e433){return _0x4aa87a===_0x37e433;}};for(let _0x148b33=0x0;_0x22efdd[_0x13978f(0x15f)](_0x148b33,0x3);_0x148b33++){if(_0x597c4c[_0x148b33][0x0]===_0x3283cd&&_0x22efdd['bqlnN'](_0x597c4c[_0x148b33][0x1],_0x3283cd)&&_0x597c4c[_0x148b33][0x2]===_0x3283cd)return!![];if(_0x22efdd[_0x13978f(0x13f)](_0x597c4c[0x0][_0x148b33],_0x3283cd)&&_0x597c4c[0x1][_0x148b33]===_0x3283cd&&_0x22efdd['WWFiA'](_0x597c4c[0x2][_0x148b33],_0x3283cd))return!![];}if(_0x22efdd[_0x13978f(0x13a)](_0x597c4c[0x0][0x0],_0x3283cd)&&_0x22efdd[_0x13978f(0x13a)](_0x597c4c[0x1][0x1],_0x3283cd)&&_0x597c4c[0x2][0x2]===_0x3283cd)return!![];if(_0x22efdd['aUbHM'](_0x597c4c[0x0][0x2],_0x3283cd)&&_0x597c4c[0x1][0x1]===_0x3283cd&&_0x22efdd['Txdaf'](_0x597c4c[0x2][0x0],_0x3283cd))return!![];return![];}function checkDraw(_0x5ee54a){const _0x16bbaa=a0_0xb8f986;return _0x5ee54a[_0x16bbaa(0x159)]()[_0x16bbaa(0x14c)](_0x31c4c6=>_0x31c4c6!=='‚ûñ');}