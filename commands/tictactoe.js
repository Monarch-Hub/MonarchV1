const a0_0x3a1437=a0_0x1dee;(function(_0x15787f,_0x1957a4){const _0x1e409f=a0_0x1dee,_0x180008=_0x15787f();while(!![]){try{const _0x25dddc=-parseInt(_0x1e409f(0xc4))/0x1+-parseInt(_0x1e409f(0xab))/0x2+parseInt(_0x1e409f(0xa6))/0x3+parseInt(_0x1e409f(0xd5))/0x4+parseInt(_0x1e409f(0xa9))/0x5*(parseInt(_0x1e409f(0x9e))/0x6)+-parseInt(_0x1e409f(0xcb))/0x7*(-parseInt(_0x1e409f(0xa4))/0x8)+-parseInt(_0x1e409f(0x95))/0x9*(parseInt(_0x1e409f(0xad))/0xa);if(_0x25dddc===_0x1957a4)break;else _0x180008['push'](_0x180008['shift']());}catch(_0x39f89c){_0x180008['push'](_0x180008['shift']());}}}(a0_0x4a48,0xd0048));import{v4 as a0_0x33be06}from'uuid';let activeGame=null,lobbyTimeout=null;const emptyBoard=[['➖','➖','➖'],['➖','➖','➖'],['➖','➖','➖']],moveMap={0x1:[0x0,0x0],0x2:[0x0,0x1],0x3:[0x0,0x2],0x4:[0x1,0x0],0x5:[0x1,0x1],0x6:[0x1,0x2],0x7:[0x2,0x0],0x8:[0x2,0x1],0x9:[0x2,0x2]};export const command=a0_0x3a1437(0xc3);export default async function handleTictactoe(_0x18d0f1,_0x4f13a3){const _0x4c4f87=a0_0x3a1437,_0xc9396d={'yTAuE':function(_0x20f0b4,_0x255304){return _0x20f0b4===_0x255304;},'VZBkU':_0x4c4f87(0x9b),'NOTrJ':'waiting','DNuGl':_0x4c4f87(0xd2),'SfDta':function(_0x448e76,_0x12a7cb,_0x5a32d0){return _0x448e76(_0x12a7cb,_0x5a32d0);},'WSbFr':function(_0x48c0f0,_0x23017d){return _0x48c0f0!==_0x23017d;},'CGZiy':_0x4c4f87(0xa0),'KgxXu':_0x4c4f87(0xa1),'wlapg':'playing','MBOdZ':function(_0x5c7044,_0x134b07){return _0x5c7044(_0x134b07);},'SBiOE':_0x4c4f87(0xb0),'iugZx':function(_0x587ae0,_0x25baec){return _0x587ae0(_0x25baec);},'fatCw':function(_0x6a822,_0x31cfac){return _0x6a822 in _0x31cfac;},'rdTPq':_0x4c4f87(0xa3),'OMKNE':'❌\x20Cell\x20already\x20occupied!','SJrZq':function(_0x7f1cd2,_0x3e59b9){return _0x7f1cd2(_0x3e59b9);},'aOWMF':function(_0x2d4315,_0x10bdca){return _0x2d4315===_0x10bdca;},'VGOAH':_0x4c4f87(0xcc),'vCAFj':_0x4c4f87(0x9a),'GkZGz':function(_0xdf3836,_0x2daa00){return _0xdf3836(_0x2daa00);},'BMlBv':_0x4c4f87(0xdd)},_0x511254=_0x4f13a3[_0x4c4f87(0xd0)][_0x4c4f87(0xb1)],_0x924754=_0x4f13a3[_0x4c4f87(0xd0)][_0x4c4f87(0xc0)]||_0x4f13a3[_0x4c4f87(0xd0)]['remoteJid'],_0x37593e=_0x4f13a3[_0x4c4f87(0xcf)]?.['conversation']||_0x4f13a3[_0x4c4f87(0xcf)]?.[_0x4c4f87(0xbf)]?.[_0x4c4f87(0xbb)]||'',_0x3efb02=process['env']['COMMAND_PREFIX']||'.';try{if(_0x37593e['startsWith'](_0x3efb02+_0x4c4f87(0xc3))){if(activeGame)return await _0x18d0f1['sendMessage'](_0x511254,{'text':_0x4c4f87(0x93)+_0x3efb02+_0x4c4f87(0x92)});activeGame={'player1':_0x924754,'player2':null,'board':JSON[_0x4c4f87(0xa7)](JSON[_0x4c4f87(0xbd)](emptyBoard)),'currentTurn':_0x924754,'status':_0xc9396d[_0x4c4f87(0xb2)]},console[_0x4c4f87(0xaf)](_0xc9396d[_0x4c4f87(0x90)],activeGame['player1']),await _0x18d0f1[_0x4c4f87(0xc7)](_0x511254,{'text':_0x4c4f87(0x9f)+_0x924754['split']('@')[0x0]+_0x4c4f87(0x9d)+_0x3efb02+'ready`\x20within\x2060\x20seconds\x20to\x20join!','mentions':[_0x924754]}),lobbyTimeout=_0xc9396d['SfDta'](setTimeout,async()=>{const _0x223cfc=_0x4c4f87;activeGame&&_0xc9396d[_0x223cfc(0xca)](activeGame['status'],_0x223cfc(0x94))&&(await _0x18d0f1[_0x223cfc(0xc7)](_0x511254,{'text':_0xc9396d[_0x223cfc(0xb7)]}),activeGame=null);},0xea60);return;}if(_0x37593e[_0x4c4f87(0xd6)](_0x3efb02+'ready')){if(!activeGame)return await _0x18d0f1['sendMessage'](_0x511254,{'text':_0x4c4f87(0xd7)+_0x3efb02+'tictactoe`.'});if(_0xc9396d[_0x4c4f87(0x91)](activeGame[_0x4c4f87(0xc1)],_0xc9396d['NOTrJ']))return await _0x18d0f1[_0x4c4f87(0xc7)](_0x511254,{'text':_0xc9396d[_0x4c4f87(0x8e)]});const _0x2a6ce8=_0x924754,_0x17ea94=activeGame[_0x4c4f87(0x97)],_0x82d683=_0x2a6ce8[_0x4c4f87(0xd3)](':')[0x0],_0x224b8b=_0x17ea94[_0x4c4f87(0xd3)](':')[0x0];if(_0xc9396d[_0x4c4f87(0xca)](_0x82d683,_0x224b8b))return await _0x18d0f1['sendMessage'](_0x511254,{'text':_0xc9396d['KgxXu']});activeGame[_0x4c4f87(0xac)]=_0x2a6ce8,activeGame[_0x4c4f87(0xc1)]=_0xc9396d['wlapg'],clearTimeout(lobbyTimeout),await _0x18d0f1[_0x4c4f87(0xc7)](_0x511254,{'text':_0x4c4f87(0x99)+_0x2a6ce8[_0x4c4f87(0xd3)]('@')[0x0]+_0x4c4f87(0xd9)+activeGame['currentTurn'][_0x4c4f87(0xd3)]('@')[0x0]+'\x27s\x20turn!\x0a\x0a'+_0xc9396d[_0x4c4f87(0xcd)](renderBoard,activeGame[_0x4c4f87(0xd8)])+_0x4c4f87(0xc8)+_0x3efb02+_0x4c4f87(0x8d),'mentions':[activeGame[_0x4c4f87(0x97)],activeGame[_0x4c4f87(0xac)]]});return;}if(_0x37593e[_0x4c4f87(0xd6)](_0x3efb02+_0x4c4f87(0xb5))){if(!activeGame||_0xc9396d[_0x4c4f87(0x91)](activeGame[_0x4c4f87(0xc1)],_0xc9396d[_0x4c4f87(0xc6)]))return;const _0x4590b0=_0x924754;if(_0xc9396d[_0x4c4f87(0x91)](_0x4590b0,activeGame[_0x4c4f87(0xde)]))return await _0x18d0f1[_0x4c4f87(0xc7)](_0x511254,{'text':_0xc9396d[_0x4c4f87(0xc9)]});const _0x552184=_0x37593e[_0x4c4f87(0xbc)]()['split']('\x20');if(_0x552184[_0x4c4f87(0xdb)]<0x2)return await _0x18d0f1[_0x4c4f87(0xc7)](_0x511254,{'text':_0x4c4f87(0xbe)+_0x3efb02+'move\x20number`\x0aExample:\x20`'+_0x3efb02+_0x4c4f87(0xa5)});const _0x5740cb=_0xc9396d['iugZx'](parseInt,_0x552184[0x1]);if(!_0xc9396d[_0x4c4f87(0xba)](_0x5740cb,moveMap))return await _0x18d0f1['sendMessage'](_0x511254,{'text':_0xc9396d[_0x4c4f87(0xa8)]});const [_0x39921f,_0x31f1ac]=moveMap[_0x5740cb];if(_0xc9396d[_0x4c4f87(0x91)](activeGame[_0x4c4f87(0xd8)][_0x39921f][_0x31f1ac],'➖'))return await _0x18d0f1['sendMessage'](_0x511254,{'text':_0xc9396d['OMKNE']});activeGame[_0x4c4f87(0xd8)][_0x39921f][_0x31f1ac]=_0xc9396d[_0x4c4f87(0xca)](_0x4590b0,activeGame[_0x4c4f87(0x97)])?'❌':'⭕';if(_0xc9396d[_0x4c4f87(0x8b)](checkWin,activeGame[_0x4c4f87(0xd8)],activeGame[_0x4c4f87(0xd8)][_0x39921f][_0x31f1ac])){await _0x18d0f1[_0x4c4f87(0xc7)](_0x511254,{'text':_0x4c4f87(0x8f)+_0x4590b0[_0x4c4f87(0xd3)]('@')[0x0]+_0x4c4f87(0x9c)+_0xc9396d[_0x4c4f87(0x96)](renderBoard,activeGame[_0x4c4f87(0xd8)]),'mentions':[_0x4590b0]}),activeGame=null;return;}if(_0xc9396d[_0x4c4f87(0xcd)](checkDraw,activeGame['board'])){await _0x18d0f1['sendMessage'](_0x511254,{'text':'🤝\x20It\x27s\x20a\x20draw!\x0a\x0a'+_0xc9396d['SJrZq'](renderBoard,activeGame[_0x4c4f87(0xd8)])}),activeGame=null;return;}activeGame[_0x4c4f87(0xde)]=_0xc9396d[_0x4c4f87(0x8c)](_0x4590b0,activeGame['player1'])?activeGame[_0x4c4f87(0xac)]:activeGame['player1'],await _0x18d0f1[_0x4c4f87(0xc7)](_0x511254,{'text':_0x4c4f87(0x98)+activeGame[_0x4c4f87(0xde)][_0x4c4f87(0xd3)]('@')[0x0]+'\x27s\x20turn!\x0a\x0a'+_0xc9396d[_0x4c4f87(0xae)](renderBoard,activeGame[_0x4c4f87(0xd8)]),'mentions':[activeGame[_0x4c4f87(0xde)]]});return;}if(_0x37593e[_0x4c4f87(0xd6)](_0x3efb02+_0x4c4f87(0xc2))){const _0x1e2cec=_0xc9396d['VGOAH']['split']('|');let _0x567b83=0x0;while(!![]){switch(_0x1e2cec[_0x567b83++]){case'0':if(!activeGame)return await _0x18d0f1[_0x4c4f87(0xc7)](_0x511254,{'text':_0x4c4f87(0xd1)+_0x3efb02+'tictactoe`.'});continue;case'1':activeGame=null;continue;case'2':return;case'3':await _0x18d0f1[_0x4c4f87(0xc7)](_0x511254,{'text':_0xc9396d[_0x4c4f87(0xb9)]});continue;case'4':_0xc9396d['GkZGz'](clearTimeout,lobbyTimeout);continue;}break;}}}catch(_0x1119b3){console[_0x4c4f87(0xce)](_0x4c4f87(0xb8),_0x1119b3),await _0x18d0f1[_0x4c4f87(0xc7)](_0x4f13a3[_0x4c4f87(0xd0)][_0x4c4f87(0xb1)],{'text':_0x4c4f87(0xa2)+(_0x1119b3[_0x4c4f87(0xcf)]||_0xc9396d['BMlBv'])});}}function a0_0x4a48(){const _0x3985da=['sendMessage','\x0a\x0aUse\x20`','SBiOE','yTAuE','28cITUrx','0|4|1|3|2','MBOdZ','error','message','key','❌\x20No\x20active\x20game\x20to\x20close.\x20Start\x20one\x20with\x20`','Player\x201\x20set\x20as:','split','map','4426552RtnKaF','startsWith','❌\x20No\x20game\x20created\x20yet.\x20Start\x20one\x20with\x20`','board','\x20joined!\x0a\x0a🎯\x20Game\x20Start!\x0a@','every','length','VLakJ','Something\x20went\x20wrong.','currentTurn','SfDta','aOWMF','move\x201-9`\x20to\x20play.','CGZiy','🏆\x20@','DNuGl','WSbFr','gameclose`\x20to\x20end\x20it\x20first.','⚠️\x20A\x20game\x20is\x20already\x20in\x20progress!\x20Use\x20`','waiting','27wpUyZe','SJrZq','player1','🎯\x20@','✅\x20@','🛑\x20Game\x20closed!','⌛\x20Lobby\x20timed\x20out.\x20No\x20one\x20joined.','\x20wins!\x0a\x0a','!\x0a\x0aAnother\x20player\x20type\x20`','66JxnBTE','🎮\x20TicTacToe\x20created\x20by\x20@','❌\x20Game\x20already\x20started!','⚠️\x20You\x20cannot\x20join\x20your\x20own\x20game!','‼️\x20Error:\x20','❌\x20Invalid\x20move.\x20Choose\x20a\x20number\x20between\x201\x20and\x209.','437496HuCRrZ','move\x205`','1811361DzyPZt','parse','rdTPq','419590VFstPO','join','1387000dPKSho','player2','235330gDvQks','iugZx','log','⏳\x20Not\x20your\x20turn!','remoteJid','NOTrJ','xEDmo','flat','move','pkDfl','VZBkU','handleTictactoe\x20error:','vCAFj','fatCw','text','trim','stringify','⚡\x20Usage:\x20`','extendedTextMessage','participant','status','gameclose','tictactoe','1236132Yavlol','SucdG','wlapg'];a0_0x4a48=function(){return _0x3985da;};return a0_0x4a48();}function a0_0x1dee(_0x1dc2e4,_0x2a013d){const _0x4a48f2=a0_0x4a48();return a0_0x1dee=function(_0x1dee10,_0xb33666){_0x1dee10=_0x1dee10-0x8b;let _0x44cd2f=_0x4a48f2[_0x1dee10];return _0x44cd2f;},a0_0x1dee(_0x1dc2e4,_0x2a013d);}function renderBoard(_0x18cfbe){const _0xb55518=a0_0x3a1437;return _0x18cfbe[_0xb55518(0xd4)](_0x28c1c4=>_0x28c1c4[_0xb55518(0xaa)](''))[_0xb55518(0xaa)]('\x0a');}function checkWin(_0x2bf9ce,_0x322ec3){const _0x423258=a0_0x3a1437,_0x32d5c8={'VLakJ':function(_0x5372f8,_0x2d1a81){return _0x5372f8<_0x2d1a81;},'PZZai':function(_0x4d1808,_0xd9f21d){return _0x4d1808===_0xd9f21d;},'pqWYt':function(_0x6713e3,_0x4b43dd){return _0x6713e3===_0x4b43dd;},'xEDmo':function(_0x3991aa,_0x531495){return _0x3991aa===_0x531495;},'SucdG':function(_0x26e5f7,_0x151928){return _0x26e5f7===_0x151928;},'pkDfl':function(_0x551642,_0x23b82a){return _0x551642===_0x23b82a;}};for(let _0x30a555=0x0;_0x32d5c8[_0x423258(0xdc)](_0x30a555,0x3);_0x30a555++){if(_0x32d5c8['PZZai'](_0x2bf9ce[_0x30a555][0x0],_0x322ec3)&&_0x32d5c8['pqWYt'](_0x2bf9ce[_0x30a555][0x1],_0x322ec3)&&_0x32d5c8['PZZai'](_0x2bf9ce[_0x30a555][0x2],_0x322ec3))return!![];if(_0x32d5c8[_0x423258(0xb3)](_0x2bf9ce[0x0][_0x30a555],_0x322ec3)&&_0x32d5c8[_0x423258(0xc5)](_0x2bf9ce[0x1][_0x30a555],_0x322ec3)&&_0x2bf9ce[0x2][_0x30a555]===_0x322ec3)return!![];}if(_0x32d5c8[_0x423258(0xb6)](_0x2bf9ce[0x0][0x0],_0x322ec3)&&_0x32d5c8[_0x423258(0xb3)](_0x2bf9ce[0x1][0x1],_0x322ec3)&&_0x32d5c8['pqWYt'](_0x2bf9ce[0x2][0x2],_0x322ec3))return!![];if(_0x2bf9ce[0x0][0x2]===_0x322ec3&&_0x2bf9ce[0x1][0x1]===_0x322ec3&&_0x2bf9ce[0x2][0x0]===_0x322ec3)return!![];return![];}function checkDraw(_0x259e2f){const _0x2a1104=a0_0x3a1437;return _0x259e2f[_0x2a1104(0xb4)]()[_0x2a1104(0xda)](_0x209072=>_0x209072!=='➖');}