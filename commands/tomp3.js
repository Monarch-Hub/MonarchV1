const a0_0x47787d=a0_0x49e7;(function(_0xed8462,_0x10683a){const _0x5a4b36=a0_0x49e7,_0xa27b67=_0xed8462();while(!![]){try{const _0xa0aa64=parseInt(_0x5a4b36(0xb8))/0x1+-parseInt(_0x5a4b36(0xa1))/0x2+parseInt(_0x5a4b36(0xac))/0x3+parseInt(_0x5a4b36(0xa7))/0x4*(-parseInt(_0x5a4b36(0xa3))/0x5)+-parseInt(_0x5a4b36(0xc5))/0x6+parseInt(_0x5a4b36(0xaa))/0x7*(parseInt(_0x5a4b36(0xaf))/0x8)+parseInt(_0x5a4b36(0xc3))/0x9*(parseInt(_0x5a4b36(0xb0))/0xa);if(_0xa0aa64===_0x10683a)break;else _0xa27b67['push'](_0xa27b67['shift']());}catch(_0x352043){_0xa27b67['push'](_0xa27b67['shift']());}}}(a0_0x498b,0x9120f));import{downloadContentFromMessage}from'@whiskeysockets/baileys';import a0_0x23d3a4 from'fluent-ffmpeg';import a0_0x4fc71b from'fs/promises';import a0_0x3acba4 from'path';function a0_0x49e7(_0x3f78f4,_0x679315){const _0x498b22=a0_0x498b();return a0_0x49e7=function(_0x49e7b0,_0x55675d){_0x49e7b0=_0x49e7b0-0x94;let _0x3e4eab=_0x498b22[_0x49e7b0];return _0x3e4eab;},a0_0x49e7(_0x3f78f4,_0x679315);}import{dirname}from'path';import{fileURLToPath}from'url';const __dirname=dirname(fileURLToPath(import.meta[a0_0x47787d(0xc8)]));function a0_0x498b(){const _0x4fdeee=['6771186ItBTEB','from','anigg','url','SaNgb','join','FFmpeg\x20error:','catch','audio/mpeg','MJmif','cTDDU','zAKDf','RLZZZ','error','sDmxK','AVWvy','sendMessage','end','pRGXR','Error\x20downloading\x20or\x20processing\x20video:','Error\x20converting\x20video\x20to\x20MP3.','2168372iuQcgL','video','18890RphOGp','RaLRF','unlink','xANqP','380uxxvze','SAGtp','key','34139uxpIYa','mp4','370131XFnqNB','Wrpef','libmp3lame','1712ARPLsw','250MGNQwr','writeFile','contextInfo','Failed\x20to\x20process\x20the\x20video.','videoMessage','mimetype','remoteJid','Error\x20sending\x20or\x20deleting\x20audio:','266994vtSGKx','EYVbx','Reply\x20to\x20a\x20video\x20message\x20with\x20the\x20.tomp3\x20command.','concat','VHueX','split','2|1|3|0|4','extendedTextMessage','message','temp_audio.mp3','readFile','623529lVCBuD','quotedMessage'];a0_0x498b=function(){return _0x4fdeee;};return a0_0x498b();}export const command='tomp3';export default async function handleToMp3(_0x5c30c4,_0x52b53f){const _0x3b3ee0=a0_0x47787d,_0x4f84d7={'pRGXR':function(_0x5191da,_0x3c17bc){return _0x5191da(_0x3c17bc);},'EYVbx':_0x3b3ee0(0xbe),'JcKWe':_0x3b3ee0(0xa0),'RaLRF':_0x3b3ee0(0xcb),'Wrpef':function(_0x1123fb,_0x135407){return _0x1123fb(_0x135407);},'BZoXs':_0x3b3ee0(0xae),'xANqP':_0x3b3ee0(0x9d),'xkelh':'error','RLZZZ':_0x3b3ee0(0xba),'VHueX':function(_0x5b6fec,_0x3d2f91,_0x3e8b2f){return _0x5b6fec(_0x3d2f91,_0x3e8b2f);},'SAGtp':_0x3b3ee0(0xa2),'zAKDf':'temp_video.','cTDDU':_0x3b3ee0(0xab),'sDmxK':_0x3b3ee0(0x9f),'AVWvy':_0x3b3ee0(0xb3)};if(!_0x52b53f[_0x3b3ee0(0xc0)]?.[_0x3b3ee0(0xbf)]?.['contextInfo']?.[_0x3b3ee0(0xc4)]?.[_0x3b3ee0(0xb4)]){await _0x5c30c4[_0x3b3ee0(0x9c)](_0x52b53f[_0x3b3ee0(0xa9)]['remoteJid'],{'text':_0x4f84d7[_0x3b3ee0(0x98)]});return;}const _0x16a8b9=_0x52b53f['message'][_0x3b3ee0(0xbf)][_0x3b3ee0(0xb2)][_0x3b3ee0(0xc4)][_0x3b3ee0(0xb4)];try{const _0x4ff5a3=await _0x4f84d7[_0x3b3ee0(0xbc)](downloadContentFromMessage,_0x16a8b9,_0x4f84d7[_0x3b3ee0(0xa8)]);let _0x569859=Buffer[_0x3b3ee0(0xc6)]([]);for await(const _0x482189 of _0x4ff5a3){_0x569859=Buffer[_0x3b3ee0(0xbb)]([_0x569859,_0x482189]);}const _0x47e507=a0_0x3acba4['join'](__dirname,_0x4f84d7[_0x3b3ee0(0x97)]+(_0x16a8b9[_0x3b3ee0(0xb5)]?.[_0x3b3ee0(0xbd)]('/')[0x1]||_0x4f84d7[_0x3b3ee0(0x96)])),_0x4b4abc=a0_0x3acba4[_0x3b3ee0(0xca)](__dirname,_0x3b3ee0(0xc1));await a0_0x4fc71b[_0x3b3ee0(0xb1)](_0x47e507,_0x569859),await new Promise((_0x4baae6,_0x56ff4c)=>{const _0xb93490=_0x3b3ee0,_0x16a95d={'anigg':function(_0x4385d3,_0x41a9c6){const _0x1c0863=a0_0x49e7;return _0x4f84d7[_0x1c0863(0x9e)](_0x4385d3,_0x41a9c6);},'SaNgb':_0x4f84d7[_0xb93490(0xb9)],'urTjz':_0x4f84d7['JcKWe'],'gBnlt':_0x4f84d7[_0xb93490(0xa4)],'MJmif':function(_0xdb49e5,_0x2b3253){const _0x18b9d9=_0xb93490;return _0x4f84d7[_0x18b9d9(0x9e)](_0xdb49e5,_0x2b3253);}};_0x4f84d7[_0xb93490(0xad)](a0_0x23d3a4,_0x47e507)['audioCodec'](_0x4f84d7['BZoXs'])['output'](_0x4b4abc)['on'](_0x4f84d7[_0xb93490(0xa6)],async()=>{const _0x2f9f35=_0xb93490;try{const _0x28d6d3=await a0_0x4fc71b[_0x2f9f35(0xc2)](_0x4b4abc);await _0x5c30c4[_0x2f9f35(0x9c)](_0x52b53f['key']['remoteJid'],{'audio':_0x28d6d3,'mimetype':_0x2f9f35(0x94),'ptt':![]},{'quoted':_0x52b53f}),await a0_0x4fc71b[_0x2f9f35(0xa5)](_0x47e507),await a0_0x4fc71b['unlink'](_0x4b4abc),await new Promise(_0x4a50dc=>setTimeout(_0x4a50dc,0x5dc)),_0x4baae6();}catch(_0x55994c){console[_0x2f9f35(0x99)](_0x2f9f35(0xb7),_0x55994c),_0x16a95d[_0x2f9f35(0xc7)](_0x56ff4c,_0x55994c);}})['on'](_0x4f84d7['xkelh'],_0x3cc667=>{const _0x434ba6=_0xb93490,_0x5518c7=_0x16a95d[_0x434ba6(0xc9)][_0x434ba6(0xbd)]('|');let _0x490e0a=0x0;while(!![]){switch(_0x5518c7[_0x490e0a++]){case'0':a0_0x4fc71b['unlink'](_0x4b4abc)['catch'](()=>{});continue;case'1':_0x5c30c4[_0x434ba6(0x9c)](_0x52b53f[_0x434ba6(0xa9)][_0x434ba6(0xb6)],{'text':_0x16a95d['urTjz']},{'quoted':_0x52b53f});continue;case'2':console[_0x434ba6(0x99)](_0x16a95d['gBnlt'],_0x3cc667);continue;case'3':a0_0x4fc71b[_0x434ba6(0xa5)](_0x47e507)[_0x434ba6(0xcc)](()=>{});continue;case'4':_0x16a95d[_0x434ba6(0x95)](_0x56ff4c,_0x3cc667);continue;}break;}})['run']();});}catch(_0x5873f8){console[_0x3b3ee0(0x99)](_0x4f84d7[_0x3b3ee0(0x9a)],_0x5873f8),await _0x5c30c4[_0x3b3ee0(0x9c)](_0x52b53f[_0x3b3ee0(0xa9)][_0x3b3ee0(0xb6)],{'text':_0x4f84d7[_0x3b3ee0(0x9b)]},{'quoted':_0x52b53f}),await a0_0x4fc71b[_0x3b3ee0(0xa5)](inputPath)[_0x3b3ee0(0xcc)](()=>{}),await a0_0x4fc71b[_0x3b3ee0(0xa5)](outputPath)[_0x3b3ee0(0xcc)](()=>{});}}