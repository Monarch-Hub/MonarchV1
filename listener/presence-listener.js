(function(_0x3996ac,_0x47f5f6){const _0x19daea=a0_0x2747,_0x63cc22=_0x3996ac();while(!![]){try{const _0x1a522a=parseInt(_0x19daea(0x117))/0x1+-parseInt(_0x19daea(0x140))/0x2*(-parseInt(_0x19daea(0x143))/0x3)+parseInt(_0x19daea(0x12c))/0x4+parseInt(_0x19daea(0x136))/0x5+parseInt(_0x19daea(0x13f))/0x6+-parseInt(_0x19daea(0x119))/0x7*(parseInt(_0x19daea(0x141))/0x8)+-parseInt(_0x19daea(0x121))/0x9;if(_0x1a522a===_0x47f5f6)break;else _0x63cc22['push'](_0x63cc22['shift']());}catch(_0x2c44e5){_0x63cc22['push'](_0x63cc22['shift']());}}}(a0_0x3135,0xf0f80));import{reloadEnvIfChanged}from'../utils/envReloader.js';function a0_0x3135(){const _0xb3b4d=['Error\x20setting\x20presence:','dYVZy','FWhCN','Error\x20iterating\x20through\x20chats\x20for\x20auto-typing:','BTccY','recording','available','paused','participants','RECORDING','5576432FGNmvS','@g.us','Presence\x20listener\x20already\x20initialized,\x20skipping.','unavailable','ONLINE','TYPING','OMrJk','OFF','OJFNI','chats','5619715fIwXbX','UvOJw','error','user','XPclA','yJlWD','mGWff','store','UbcVB','6666042cRgELT','26apUzBI','7816btryvb','Auto-online\x20is\x20OFF.','435606miCcvV','log','env','vsmSF','toUpperCase','readOnly','wXDzI','endsWith','XlfpA','all','NJdCL','ZrMFp','NTcNU','gruOA','HMllL','BrEyw','OLTcZ','BQAxa','XlqiP','split','UEygE','1633624PkOLkx','ZQpow','6223syXdAJ','aCFBu','some','oiuGa','Error\x20setting\x20presence\x20for\x20','EbTET','@s.whatsapp.net','APaAV','47652723knjeGF'];a0_0x3135=function(){return _0xb3b4d;};return a0_0x3135();}let presenceInitialized=![];async function setBotPresence(_0x24122b,_0x2d8ff2,_0x1c30f8){const _0x48d1d5=a0_0x2747,_0x2a53df={'yJlWD':function(_0x5b5b88){return _0x5b5b88();}};await _0x2a53df[_0x48d1d5(0x13b)](reloadEnvIfChanged);try{await _0x24122b['sendPresenceUpdate'](_0x2d8ff2,_0x1c30f8);}catch(_0x579094){console[_0x48d1d5(0x138)](_0x48d1d5(0x11d)+_0x1c30f8+':',_0x579094);}}function delay(_0x5ac2f1){return new Promise(_0x2ef91d=>setTimeout(_0x2ef91d,_0x5ac2f1));}async function startAutoTyping(_0x59b023){const _0x2de6b1=a0_0x2747,_0xafbcb={'NTcNU':function(_0x45ce9e,_0x42f3c0){return _0x45ce9e+_0x42f3c0;},'OLTcZ':'@s.whatsapp.net','vsmSF':function(_0x6cf9d1,_0xc2269f){return _0x6cf9d1!==_0xc2269f;},'FWhCN':'@g.us','dYVZy':function(_0x9d923,_0x34022b,_0x43fae1,_0x39b127){return _0x9d923(_0x34022b,_0x43fae1,_0x39b127);},'mGWff':'composing','stAxK':function(_0x5d9d8f,_0x37cb1){return _0x5d9d8f(_0x37cb1);},'OMrJk':function(_0x4a8c49,_0x4ee00d,_0x179717,_0x3b1f57){return _0x4a8c49(_0x4ee00d,_0x179717,_0x3b1f57);},'HMllL':'paused','ZpSzi':_0x2de6b1(0x125),'oiuGa':function(_0x16346b,_0x493de,_0x19d30a){return _0x16346b(_0x493de,_0x19d30a);}};_0xafbcb[_0x2de6b1(0x11c)](setInterval,async()=>{const _0x9d2d94=_0x2de6b1;if(_0x59b023?.[_0x9d2d94(0x139)]?.['id']){const _0x213243=_0xafbcb[_0x9d2d94(0x14f)](_0x59b023['user']['id']['split'](':')[0x0],_0xafbcb[_0x9d2d94(0x153)]);try{const _0x4385fe=await _0x59b023[_0x9d2d94(0x13d)][_0x9d2d94(0x135)][_0x9d2d94(0x14c)]();for(const _0x3f0904 of _0x4385fe){if(_0xafbcb[_0x9d2d94(0x146)](_0x3f0904['id'],_0x213243)&&!_0x3f0904['id'][_0x9d2d94(0x14a)](_0xafbcb[_0x9d2d94(0x124)])&&!_0x3f0904['readOnly'])await _0xafbcb[_0x9d2d94(0x123)](setBotPresence,_0x59b023,_0xafbcb[_0x9d2d94(0x13c)],_0x3f0904['id']),await _0xafbcb['stAxK'](delay,0x1f40),await _0xafbcb[_0x9d2d94(0x132)](setBotPresence,_0x59b023,_0xafbcb['HMllL'],_0x3f0904['id']);else _0x3f0904['id'][_0x9d2d94(0x14a)](_0xafbcb[_0x9d2d94(0x124)])&&_0x3f0904[_0x9d2d94(0x12a)]?.['some'](_0x51f6be=>_0x51f6be['id']===_0x213243)&&(await _0xafbcb[_0x9d2d94(0x123)](setBotPresence,_0x59b023,_0xafbcb['mGWff'],_0x3f0904['id']),await delay(0x1f40),await _0xafbcb['dYVZy'](setBotPresence,_0x59b023,_0xafbcb[_0x9d2d94(0x151)],_0x3f0904['id']));}}catch(_0x1f92fe){console[_0x9d2d94(0x138)](_0xafbcb['ZpSzi'],_0x1f92fe);}}},0x2710);}async function startAutoRecording(_0x2578ab){const _0x561d94=a0_0x2747,_0x5b3e77={'DokCj':_0x561d94(0x11f),'OJFNI':function(_0x311722,_0x1197a1){return _0x311722!==_0x1197a1;},'BQAxa':_0x561d94(0x127),'ZrMFp':function(_0x2381b5,_0x2ae12f){return _0x2381b5(_0x2ae12f);},'BTccY':function(_0x33bf79,_0x1b0e9b,_0x504c0c,_0x32f3e9){return _0x33bf79(_0x1b0e9b,_0x504c0c,_0x32f3e9);},'UvOJw':_0x561d94(0x129),'XlqiP':_0x561d94(0x122),'APaAV':function(_0x523190,_0x254a4f,_0x29d1fd){return _0x523190(_0x254a4f,_0x29d1fd);}};_0x5b3e77[_0x561d94(0x120)](setInterval,async()=>{const _0x3fba8c=_0x561d94;if(_0x2578ab?.[_0x3fba8c(0x139)]?.['id']){const _0x3c6b53=_0x2578ab['user']['id'][_0x3fba8c(0x115)](':')[0x0]+_0x5b3e77['DokCj'];try{const _0x16adcb=await _0x2578ab[_0x3fba8c(0x13d)]['chats'][_0x3fba8c(0x14c)]();for(const _0x2c1c38 of _0x16adcb){if(_0x5b3e77[_0x3fba8c(0x134)](_0x2c1c38['id'],_0x3c6b53)&&!_0x2c1c38['id'][_0x3fba8c(0x14a)](_0x3fba8c(0x12d))&&!_0x2c1c38[_0x3fba8c(0x148)])await setBotPresence(_0x2578ab,_0x5b3e77[_0x3fba8c(0x113)],_0x2c1c38['id']),await _0x5b3e77[_0x3fba8c(0x14e)](delay,0x1f40),await setBotPresence(_0x2578ab,_0x3fba8c(0x129),_0x2c1c38['id']);else _0x2c1c38['id'][_0x3fba8c(0x14a)](_0x3fba8c(0x12d))&&_0x2c1c38[_0x3fba8c(0x12a)]?.[_0x3fba8c(0x11b)](_0x416128=>_0x416128['id']===_0x3c6b53)&&(await _0x5b3e77[_0x3fba8c(0x126)](setBotPresence,_0x2578ab,_0x5b3e77['BQAxa'],_0x2c1c38['id']),await delay(0x1f40),await setBotPresence(_0x2578ab,_0x5b3e77[_0x3fba8c(0x137)],_0x2c1c38['id']));}}catch(_0x2b7c62){console[_0x3fba8c(0x138)](_0x5b3e77[_0x3fba8c(0x114)],_0x2b7c62);}}},0x2710);}function a0_0x2747(_0x436330,_0x18826f){const _0x31351e=a0_0x3135();return a0_0x2747=function(_0x2747c1,_0x3d0275){_0x2747c1=_0x2747c1-0x113;let _0x2d685c=_0x31351e[_0x2747c1];return _0x2d685c;},a0_0x2747(_0x436330,_0x18826f);}async function startAutoOnline(_0x4d3c3b){const _0x31dfe7=a0_0x2747,_0x180a7c={'gkpVh':function(_0x3c2c21,_0x5089dc){return _0x3c2c21+_0x5089dc;},'IPYqd':_0x31dfe7(0x11f),'UbcVB':function(_0x199e04,_0x499845){return _0x199e04!==_0x499845;},'TIgFL':'@g.us','XlfpA':function(_0x41b22c,_0x5391f8,_0x263845,_0x44eefe){return _0x41b22c(_0x5391f8,_0x263845,_0x44eefe);},'gruOA':_0x31dfe7(0x128),'XjlYi':function(_0xedaa0e,_0x31a922){return _0xedaa0e(_0x31a922);},'EbTET':_0x31dfe7(0x12f),'UEygE':function(_0x26a3e9,_0x12cfc9,_0x586b1f,_0x1c6db0){return _0x26a3e9(_0x12cfc9,_0x586b1f,_0x1c6db0);},'SgDQT':function(_0xf0490,_0x386d86){return _0xf0490(_0x386d86);},'aCFBu':_0x31dfe7(0x122),'XPclA':function(_0x4d8255,_0x43e7e2,_0x3ef37e){return _0x4d8255(_0x43e7e2,_0x3ef37e);}};_0x180a7c[_0x31dfe7(0x13a)](setInterval,async()=>{const _0x3fb9eb=_0x31dfe7;if(_0x4d3c3b?.[_0x3fb9eb(0x139)]?.['id']){const _0x4b7796=_0x180a7c['gkpVh'](_0x4d3c3b[_0x3fb9eb(0x139)]['id'][_0x3fb9eb(0x115)](':')[0x0],_0x180a7c['IPYqd']);try{const _0x211330=await _0x4d3c3b[_0x3fb9eb(0x13d)][_0x3fb9eb(0x135)]['all']();for(const _0x56a90f of _0x211330){if(_0x180a7c[_0x3fb9eb(0x13e)](_0x56a90f['id'],_0x4b7796)&&!_0x56a90f['id']['endsWith'](_0x180a7c['TIgFL'])&&!_0x56a90f[_0x3fb9eb(0x148)])await _0x180a7c[_0x3fb9eb(0x14b)](setBotPresence,_0x4d3c3b,_0x180a7c[_0x3fb9eb(0x150)],_0x56a90f['id']),await _0x180a7c['XjlYi'](delay,0x1f40),await setBotPresence(_0x4d3c3b,_0x180a7c[_0x3fb9eb(0x11e)],_0x56a90f['id']);else _0x56a90f['id']['endsWith'](_0x180a7c['TIgFL'])&&_0x56a90f['participants']?.[_0x3fb9eb(0x11b)](_0x1314bb=>_0x1314bb['id']===_0x4b7796)&&(await _0x180a7c[_0x3fb9eb(0x116)](setBotPresence,_0x4d3c3b,_0x180a7c[_0x3fb9eb(0x150)],_0x56a90f['id']),await _0x180a7c['SgDQT'](delay,0x1f40),await setBotPresence(_0x4d3c3b,_0x180a7c[_0x3fb9eb(0x11e)],_0x56a90f['id']));}}catch(_0x1a2666){console[_0x3fb9eb(0x138)](_0x180a7c[_0x3fb9eb(0x11a)],_0x1a2666);}}},0x2710);}export default async function presenceListener(_0xd3ce62){const _0x315fed=a0_0x2747,_0x1c31aa={'ZQpow':_0x315fed(0x12b),'wXDzI':function(_0x432918,_0xc3527d){return _0x432918(_0xc3527d);},'BrEyw':_0x315fed(0x130),'NJdCL':_0x315fed(0x133),'CWIdT':_0x315fed(0x142)};if(presenceInitialized){console[_0x315fed(0x144)](_0x315fed(0x12e));return;}presenceInitialized=!![];const _0x2c0a1e=await _0xd3ce62[_0x315fed(0x13d)]['chats'][_0x315fed(0x14c)]();await reloadEnvIfChanged();const _0x408ac8=process[_0x315fed(0x145)]['AUTO_ONLINE']?.[_0x315fed(0x147)]();switch(_0x408ac8){case _0x315fed(0x131):startAutoTyping(_0xd3ce62),await delay(0x4e20);break;case _0x1c31aa[_0x315fed(0x118)]:_0x1c31aa[_0x315fed(0x149)](startAutoRecording,_0xd3ce62);break;case _0x1c31aa[_0x315fed(0x152)]:startAutoOnline(_0xd3ce62);break;case _0x1c31aa[_0x315fed(0x14d)]:default:console[_0x315fed(0x144)](_0x1c31aa['CWIdT']);break;}}